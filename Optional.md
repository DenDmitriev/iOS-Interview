# Опциональные типы

Опциональные типы используются когда значение может отсутвовать. 
Это означает что возможны два варианта:
 - Либо значение существует и его можно извлечь из опционала
 - Либо его нет вообще

Если объявить опциональную переменную без присвоения значения по умолчанию, то переменная автоматически установится в nil для вас
```swift
var surveyAnswer: String?
// surveyAnswer автоматически установится в nil

let possibleNumber = "123" // Int
let convertedNumber = Int(possibleNumber) // Int?
```
Извлечение опционала:
- [Принудительное извлчение](#принудительное-извлчение)
- [Привязка опционалов](#привязка-опционалов)
- [Неявно извлеченные опционалы](#неявно-извлеченные-опционалы)

### Принудительное извлчение

Если вы уверены, что опционал содержит значение, вы можете получить доступ к его значению, добавив восклицательный знак (!) в конце имени опционала.
Восклицательный знак фактически говорит: «Я знаю точно, что этот опционал содержит значение, пожалуйста, используй его».

```swift
if convertedNumber != nil {
    print("convertedNumber has an integer value of \(convertedNumber!).")
}
// Выведет "convertedNumber has an integer value of 123."
```

### Привязка опционалов
Можно использовать Привязку опционалов, чтобы выяснить содержит ли опционал значение, и если да, то сделать это значение доступным в качестве временной константы или переменной.
Привязка опционалов может использоваться с инструкциями if и while.
```swift
if let actualNumber = Int(possibleNumber) {
    print("\(possibleNumber) has an integer value of \(actualNumber)")
} else {
    print("\(possibleNumber) could not be converted to an integer")
}
// Выведет "123" has an integer value of 123
```
Если преобразование прошло успешно, константа actualNumber становится доступной для использования внутри первого ветвления инструкции if.
Константы и переменные, созданные через опциональную привязку в инструкции if, будут доступны только в теле инструкции if. В противоположность этому, константы и переменные, созданные через инструкцию guard, доступны в строках кода
```swift
guard let possibleNumber else { return }
print("\(possibleNumber) has an integer value of \(actualNumber)")
// Выведет "123" has an integer value of 123
```

### Неявно извлеченные опционалы
Константам или переменным разрешено не иметь «никакого значения». Опционалы можно проверить с помощью инструкции if/guard, чтобы увидеть существует ли значение, и при условии, если оно существует, можно извлечь его с помощью привязки опционалов для доступа к опциональному значению.

Эти виды опционалов называются неявно извлеченные опционалы. Их можно писать, используя восклицательный знак (String!), вместо вопросительного знака (String?), после типа, который вы хотите сделать опциональным.

Вместо того, чтобы ставить восклицательный знак (!) после опционала, когда вы его используете, поместите восклицательный знак (!) после опционала, когда вы его объявляете.
```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // необходим восклицательный знак

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString // восклицательный знак не нужен
```
