# Grand Central Dispatch
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–æ–º. GCD –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞. –£–ø—Ä–∞–≤–ª—è—Ç—å –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –Ω–µ–ª—å–∑—è. GCD –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –±–ª–æ–∫–∏ –∫–æ–¥–∞ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:  DispatchQueue.main.async { code }. 

–õ–æ–≥–∏–∫–∞: –µ—Å—Ç—å –±–ª–æ–∫ –∫–æ–¥–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, —ç—Ç–æ—Ç –∫–æ–¥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∏ –æ–Ω–∞ –ø–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ –æ—á–µ—Ä–µ–¥—å DispatchQueue –≤ –∫–∞–∫–æ–º-—Ç–æ –ø–æ—Ç–æ–∫–µ. –û—á–µ—Ä–µ–¥–∏ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏. –ó–¥–µ—Å—å –º—ã –æ–ø–µ—Ä–∏—Ä—É–µ–º –æ—á–µ—Ä–µ–¥—è–º–∏, –∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ—à–∞–µ—Ç –Ω–∞ –∫–∞–∫–æ–π –ø–æ—Ç–æ–∫ –∏–¥—Ç–∏. –ó–∞–¥–∞–Ω–∏—è –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö –û—á–µ—Ä–µ–¥—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ç–æ–∫ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å—Ç—É–ø–∞—é—â–∏—Ö –∫ –Ω–µ–π –∑–∞–¥–∞—á.

## –ú–µ—Ç–æ–¥—ã –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞
- Sync
–ú–µ—Ç–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –≤—ã–∑—ã–≤–∞—é—â–µ–π –æ—á–µ—Ä–µ–¥–∏, –∑–Ω–∞—á–∏—Ç —á—Ç–æ –æ—á–µ—Ä–µ–¥—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –º—ã –∂–¥–µ–º –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±–ª–æ–∫ –∫–æ–¥–∞ –≤ –¥—Ä—É–≥–æ–π –æ—á–µ—Ä–µ–¥–∏

![—Ñ—ã–Ω—Ç—Å Main Serial Queue 2](https://github.com/DenDmitriev/iOS-Interview/assets/65191747/a5c22e8e-c35d-411a-97d9-0247dba4255a)

- Async
–ú–µ—Ç–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Ç–µ–∫—É—â–µ–π –æ—á–µ—Ä–µ–¥–∏, –∑–Ω–∞—á–∏—Ç —á—Ç–æ –±–ª–æ–∫–∏ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

![Main Serial Queue](https://github.com/DenDmitriev/iOS-Interview/assets/65191747/be7ce397-84a4-4964-a6eb-249771476174)

## –û—á–µ—Ä–µ–¥–∏
- serial (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è) ‚Äì –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ). –î–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –∑–∞–¥–∞—á–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, –ø–æ—Ç–æ–∫ –Ω–µ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥–∏.‚Ä®
```swift
let serialQueue = DispatchQueue(label: "ru.app.serial-queue")
```
- concurrent (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è) ‚Äì –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ó–∞–¥–∞—á–∏, –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –≤ concurrent –æ—á–µ—Ä–µ–¥—å, –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö. 
```swift
let concurrentQueue = DispatchQueue(label: "ru.app.concurrent-queue", attributes: .concurrent)
```

![Serial Queue](https://github.com/DenDmitriev/iOS-Interview/assets/65191747/093c17b1-74a8-4c46-9325-b51a5a81885e)


## –í–∞—Ä–∏–∞–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π GCD
- –æ–¥–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è main queue
- –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ global queues —Ç–∏–ø–æ–≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ quality of service:
  - userInteractive
  - userInitiated
  - utility
  - background

–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤—Å–µ —ç—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ —è–≤–ª—è—é—Ç—Å—è –°–ò–°–¢–ï–ú–ù–´–ú–ò –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –æ—á–µ—Ä–µ–¥—è–º–∏ –∏ –Ω–∞—à–∏ –∑–∞–¥–∞–Ω–∏—è ‚Äî –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ —ç—Ç–æ–π –æ—á–µ—Ä–µ–¥–∏! –¢–∞–∫–∂–µ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –≤—Å–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏, –∫—Ä–æ–º–µ –æ–¥–Ω–æ–π, —è–≤–ª—è—é—Ç—Å—è concurrent (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏) –æ—á–µ—Ä–µ–¥—è–º–∏

## –°–æ–∑–¥–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–µ–π
### –ì–ª–∞–≤–Ω–∞—è –æ—á–µ—Ä–µ–¥—å
–ì–ª–∞–≤–∞–Ω—è –æ—á–µ—Ä–µ–¥—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏:
```swift
DispatchQueue.main.async {
    print("üòá")
}
```
### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏
–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ —Ç–æ–∂–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏:
```swift
DispatchQueue.global(qos: .utility).async { // qos —É–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    print("ü•π")
}
```

### –°–≤–æ—è –æ—á–µ—Ä–µ–¥—å
–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è
```swift
let serialQueue = DispatchQueue(label: "my.queue.serial", qos: .userInitiated)
serialQueue.async {
    print("üòá")
}
```
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è
let concurrentQueue = DispatchQueue(label: "my.queue.concurrentQueue", qos: .userInitiated, attributes: .concurrent)
concurrentQueue.async {
    print("ü´£")
}

## –ì—Ä—É–ø–ø—ã –∑–∞–¥–∞—á DispatchGroup
–û–±—ä–µ–∫—Ç, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á–∏ –≤ –≥—Ä—É–ø–ø—É –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ì—Ä—É–ø–ø–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫ –Ω–µ–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á—å –∏–ª–∏ `DispatchWorkItem` –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—á–µ—Ä–µ–¥—è—Ö. –ö–æ–≥–¥–∞ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –≥—Ä—É–ø–ø–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –≥—Ä—É–ø–ø–∞ —É–≤–µ–¥–æ–º–∏—Ç –æ–± —ç—Ç–æ–º –∫–∞–∫—É—é-–ª–∏–±–æ –æ—á–µ—Ä–µ–¥—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –Ω–∞ –Ω–µ–π completion handler. –¢–∞–∫ –∂–µ –≥—Ä—É–ø–ø–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ –≥—Ä—É–ø–ø–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
–°—Ä–∞–≤–Ω–∏–º —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á.

–°–æ–∑–¥–∞–¥–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –æ—á–µ—Ä–µ–¥—å –∏ –¥–æ–±–∞–≤–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ –≥—Ä—É–ø–ø—É –æ–ø–µ—Ä–∞—Ü–∏–π. –ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```swift
// –°–æ–∑–¥–∞–µ–º –æ—á–µ—Ä–µ–¥—å
let serialQueue = DispatchQueue(label: "ru.app.serial-queue")

// –°–æ–∑–¥–∞–µ–º 2 DispatchWorkItem
let workItem1 = DispatchWorkItem {
    print("workItem1: üò¥")
    sleep(3)
    print("workItem1: ü§ó")
}

let workItem2 = DispatchWorkItem {
    print("workItem2: üò¥")
    sleep(3)
    print("workItem2: ü§ó")
}

// –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É
let group = DispatchGroup()

// –î–æ–±–∞–≤–ª—è–µ–º workItem –≤ –≥—Ä—É–ø–ø–µ, –ø–ª–∞–Ω–∏—Ä—É–µ–º –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—á–µ—Ä–µ–¥–∏ serialQueue –∏ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
serialQueue.async(group: group, execute: workItem1)
serialQueue.async(group: group, execute: workItem2)

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –ó–∞–º—ã–∫–∞–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –≥—Ä—É–ø–ø–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
group.notify(queue: DispatchQueue.main) {
    print("All tasks on group completed")
}

// Console:
// workItem1: üò¥
// workItem1: ü§ó
// workItem2: üò¥
// workItem2: ü§ó
// All tasks on group completed
```
–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –æ–¥–Ω—É –∑–∞ –¥—Ä—É–≥–æ–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ –∏—Ç–æ–≥—É.

–°–æ–∑–¥–∞–¥–∏–º –ø–∞—Ä–∞–ª–µ–ª–ª—å–Ω—É—é –æ—á–µ—Ä–µ–¥—å –∏ –¥–æ–±–∞–≤–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ –≥—Ä—É–ø–ø—É –æ–ø–µ—Ä–∞—Ü–∏–π. –ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```swift
// –°–æ–∑–¥–∞–µ–º –æ—á–µ—Ä–µ–¥—å
let concurrentQueue = DispatchQueue(label: "ru.app.concurrent-queue", attributes: .concurrent)

// –°–æ–∑–¥–∞–µ–º 2 DispatchWorkItem
let workItem1 = DispatchWorkItem {
    print("workItem1: üò¥")
    sleep(3)
    print("workItem1: ü§ó")
}

let workItem2 = DispatchWorkItem {
    print("workItem2: üò¥")
    sleep(3)
    print("workItem2: ü§ó")
}

// –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É
let group = DispatchGroup()

// –î–æ–±–∞–≤–ª—è–µ–º workItem –≤ –≥—Ä—É–ø–ø–µ, –ø–ª–∞–Ω–∏—Ä—É–µ–º –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—á–µ—Ä–µ–¥–∏ serialQueue –∏ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
concurrentQueue.async(group: group, execute: workItem1)
concurrentQueue.async(group: group, execute: workItem2)

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –ó–∞–º—ã–∫–∞–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –≥—Ä—É–ø–ø–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
group.notify(queue: DispatchQueue.main) {
    print("All tasks on group completed")
}

// Console:
// workItem1: üò¥
// workItem2: üò¥
// workItem2: ü§ó
// workItem1: ü§ó
// All tasks on group completed
```
–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ –∏—Ç–æ–≥—É.

##  –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ë–∞—Ä—å–µ—Ä
- –°–∏–º–∞—Ñ–æ—Ä
