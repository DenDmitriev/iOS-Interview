# Subject

## Что такое Subject?
Издатель, который предоставляет метод для внешних вызовов для публикации элементов. Подробнее Subject - это издатель, которого вы можете использовать для "введения" значений в поток, используя его метод send(_:). Это может быть полезно для адаптации существующего императивного кода к модели Combine. 

Если оценивать его реализацию то Subject - это протокол, который соответсвует протоколу издателя Publisher так же как и Just, Future или другие дефолтные реализации издателя.

Давайте посмотрим на его содержание:
```swift
public protocol Subject<Output, Failure> : AnyObject, Publisher {

     /// Отправляет значение подписчику.
     ///
     /// - Parameter value: значение для отправки.
     func send(_ value: Self.Output)

     /// Отправляет подписчику сигнал завершения.
     ///
     /// - Parameter completion: экземпляр `Completion`, который указывает, завершилась ли публикация нормально или произошла ошибка.
     func send(completion: Subscribers.Completion<Self.Failure>)

     /// Отправляет подписку подписчику.
     ///
     /// Этот вызов предоставляет ``Субъекту`` возможность установить спрос на любые новые восходящие подписки.
     ///
     /// - Parameter subscription: экземпляр подписки, через который подписчик может запрашивать элементы.
     func send(subscription: Subscription)
}
```
Интерфейс протокола имеет возможности:
- `send(_:)` Отправляет значение абоненту.
- `send(completion:)` Посылает сигнал завершения подписчику.
- `send(subscription:)` Отправляет подписку подписчику.

Имеет два связанных типа: Output, Failure, которые наследуются от Publisher.

В Combine уже реализованы два типа subject, которые готовы к работе:
- PassThroughSubject, который выдает новые значения подписчикам без хранения.
- CurrentValueSubject, который хранит последнее значение и публикует его для подписчиков всякий раз, когда это значение меняется.
