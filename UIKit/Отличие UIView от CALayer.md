# Отличие `UIView` от `CALayer`


## Определение
- `UIView` - `@MainActor class UIView : UIResponder` Объект, который управляет содержимым для прямоугольной области на экране.
- `CALayer` - `class CALayer : NSObject` Объект, который управляет контентом на основе изображений и позволяет выполнять анимацию на этом контенте.

## Отличие
- `UIView` является подклассом `UIResponder` и может реагировать на прикосновения и другие типы событий, а `CALayer` - нет.
- `UIView` в основном предназначен для управления отображаемым содержимым, а `CALayer` в основном фокусируется на рисовании отображаемого содержимого.
- Внутри каждого `UIView` есть `CALayer`, который обеспечивает рисование и отображение содержимого, а размер и стиль UIView предоставляются внутренним слоем. Оба имеют древовидную иерархическую структуру.

В iOS каждый `UIView` поддерживается Core Animation CALayer, поэтому при использовании `UIView` вы имеете дело с CALayers, даже если вы этого не осознаете. В отличие от `NSView` на Mac, которые развивались до появления Core Animation. `UIView` задуманы как облегченные оболочки вокруг этих CALayers.

Работа напрямую с CALayers не дает значительных преимуществ в производительности по сравнению с UIView. 

## Причины использования CALayer
- Можно использовать и на Mac. UIView отличаются от NSView, но CALayer идентичны на обеих платформах. Вот почему платформа Core Plot размещает свои графики, используя CALayers вместо других элементов пользовательского интерфейса.
- При выполнении более сложных анимаций, чем позволяет базовый класс UIView

## Причины использования UIView
- Встроенная поддержка взаимодействия с пользователем. UIView наследуется от UIResponder который может получать и обрабатывать события.
- Поддержка тестирования касаний и другие действия, которые придется создавать самостоятельно при управлении иерархией CALayers.

> UIResponder определяет интерфейс для обработки различных событий и доставки событий, а CALayer напрямую наследует NSObject и не имеет соответствующего интерфейса для обработки событий.

## Источники:
- [What are the differences between a UIView and a CALayer?](https://stackoverflow.com/questions/7826306/what-are-the-differences-between-a-uiview-and-a-calayer)
- [When to use CALayer on the Mac/iPhone?](https://stackoverflow.com/questions/1447598/when-to-use-calayer-on-the-mac-iphone)
